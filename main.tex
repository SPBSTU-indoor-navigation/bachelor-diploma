\documentclass[a4paper,14pt]{extreport}
\usepackage[left=30mm,right=10mm,top=20mm,bottom=20mm]{geometry}
\parindent 1.25cm
\linespread{1.5}

\usepackage{cmap}
\usepackage{lipsum}  
\usepackage{chngcntr}\counterwithout{table}{chapter}

\usepackage[utf8]{inputenc}
\usepackage[T2A]{fontenc}
\usepackage[russian,english]{babel}
\usepackage{fontspec}
\setmainfont{Times New Roman}

\usepackage{indentfirst}

\usepackage[backend=biber,style=gost-numeric]{biblatex}
\addbibresource{biblio.bib}

\usepackage{multicol}
\usepackage{listings}
\usepackage{graphicx}
\graphicspath{ {assets/} }
\usepackage{placeins}
\usepackage{multirow}
\usepackage{paralist}
\usepackage{float}

\usepackage{longtable}
\usepackage{makecell}
\usepackage{pgfplots}
\usepackage{pgfplotstable}
\usepackage{caption, subcaption}
\captionsetup[table]{justification=raggedright,singlelinecheck=false}

\usepackage{xltabular, tabularx}

\usepackage{fancyhdr}
\pagestyle{fancy}
\renewcommand{\headrulewidth}{0pt} 
\fancyhf{}
\fancyfoot[C]{\thepage}

\fancypagestyle{plain} {
	\renewcommand{\headrulewidth}{0pt}
	\fancyhf{}
  \fancyfoot[C]{\thepage}
}

\usepackage{titletoc, amsmath, lastpage} %подключаем нужные пакеты расширений
\usepackage[raggedright]{titlesec} % не переносить заголовки

\titleformat{\chapter}[block]
{\centering\Large\bfseries}{\chaptertitlename\ \thechapter .}{4pt}{\MakeUppercase}

\titleformat{\section}[block]
{\centering\Large\bfseries}{\thesection .}{4pt}{}

\titleformat{\subsection}[block]
{\centering\Large\itshape}{\thesubsection .}{4pt}{}

\titleformat{\subsubsection}[block]
{\centering}{\thesubsubsection .}{4pt}{}


% TABLE OF CONTENT CONFIG
\usepackage{tocloft} 

% disables bold in table of content
\newcommand*{\disableboldchapterintoc}{%
	\addtocontents{toc}{\string\renewcommand{\protect\cftchappagefont}{\protect\normalfont}}
	\addtocontents{toc}{\string\renewcommand{\protect\cftchapfont}{\protect\normalfont}}
	\addtocontents{toc}{\string\renewcommand{\protect\cftchapleader}{\protect\normalfont\protect\cftdotfill{\protect\cftsecdotsep}}}% 
}

\renewcommand{\cftaftertoctitle}{\hfill}

\setlength{\cftchapindent}{0pt}
\setlength{\cftsecindent}{0pt}
\setlength{\cftsubsecindent}{0pt}
\cftsetindents{section}{0pt}{1.0\baselineskip}
\cftsetindents{chapter}{0pt}{1.0\baselineskip}

\titlelabel{\thetitle.\quad}


\titlecontents{chapter}% <section-type>
[0pt]% <left>
{}% <above-code>
{\chaptername\ \thecontentslabel. }% <numbered-entry-format>
{}% <numberless-entry-format>
{\cftdotfill{\cftsecdotsep}\contentspage}% <filler-page-format>
\renewcommand{\cftdotsep}{1}

\makeatletter
\renewcommand\chapter{\par%
  \thispagestyle{plain}%
  \global\@topnum\z@
  \@afterindentfalse
  \secdef\@chapter\@schapter}
\makeatother


\makeatletter
\renewcommand\large{\@setfontsize\large{14}{16}}
\renewcommand\Large{\@setfontsize\Large{14}{16}}
\renewcommand\Large{\@setfontsize\LARGE{14}{16}}
\makeatother

\usepackage{xargs}
\newcommandx{\fig}[3][1=, 2=1]{
  \begin{figure}[H]
    \centering
    \includegraphics[width=#2\textwidth]{#3}
    \caption{#1}
  \end{figure}
}

\usepackage{placeins} % floatbarrier
\usepackage{setspace} %line spacing


% Меняем везде перечисления на цифра.цифра
\renewcommand{\theenumi}{\arabic{enumi}}
\renewcommand{\labelenumi}{\arabic{enumi}}
\renewcommand{\theenumii}{.\arabic{enumii}}
\renewcommand{\labelenumii}{\hspace*{1cm}\arabic{enumi}.\arabic{enumii}.}
\renewcommand{\theenumiii}{.\arabic{enumiii}}
\renewcommand{\labelenumiii}{\arabic{enumi}.\arabic{enumii}.\arabic{enumiii}.}

\renewcommand{\cellalign}{vh}
\renewcommand{\theadalign}{vh}

\newcommand{\chaperWONum}[1]{\chapter*{#1}\addcontentsline{toc}{chapter}{#1}}

\lstset{ %
language=java,                % выбор языка для подсветки (здесь это С)
basicstyle=\small\sffamily,   % размер и начертание шрифта для подсветки кода
numbers=left,                 % где поставить нумерацию строк (слева\справа)
numberstyle=\tiny,            % размер шрифта для номеров строк
stepnumber=1,                 % размер шага между двумя номерами строк
firstnumber=1,
numberfirstline=true
numbersep=5pt,                % как далеко отстоят номера строк от подсвечиваемого кода
backgroundcolor=\color{white},% цвет фона подсветки - используем \usepackage{color}
showspaces=false,             % показывать или нет пробелы специальными отступами
showstringspaces=false,       % показывать или нет пробелы в строках
showtabs=false,               % показывать или нет табуляцию в строках
frame=single,                 % рисовать рамку вокруг кода
tabsize=2,                    % размер табуляции по умолчанию равен 2 пробелам
captionpos=t,                 % позиция заголовка вверху [t] или внизу [b] 
breaklines=true,              % автоматически переносить строки (да\нет)
breakatwhitespace=false,      % переносить строки только если есть пробел
escapeinside={\%*}{*)}        % если нужно добавить комментарии в коде
}

\titlespacing{\chapter}{0pt}{10pt}{6pt}


\begin{document}
  \selectlanguage{russian}
  \begin{spacing}{1}
    \pagenumbering{gobble} % disable page numbering
    \input{pages/titlepage}% это титульный лист для диплома
  \end{spacing}

  \sloppy
  \setcounter{page}{2}
  \pagenumbering{arabic} % enable page numbering back

  \chapter*{Реферат}
    \input{pages/1-referat-ru.tex}

    \newpage
  \chapter*{Abstract}
    \input{pages/1-referat-en.tex}

    \newpage
    \disableboldchapterintoc
    \renewcommand{\contentsname}{\textbf{СОДЕРЖАНИЕ}}
    \renewcommand{\cfttoctitlefont}{\hfill\Large}

    \tableofcontents
    \newpage


    % введение
    \chaperWONum{Введение}
    \input{pages/2-introduction.tex}

    \input{pages/3-main-part.tex}

    \chaperWONum{Заключение}
    \input{pages/4-conclusion.tex}



    \newpage
    \chaperWONum{Список источников}
    \printbibliography[heading=none]

\end{document}
